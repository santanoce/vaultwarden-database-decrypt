# Vaultwarden Database Decrypt

This is a simple tool to decrypt the `db.sqlite3` file generated by [Vaultwarden](https://github.com/dani-garcia/vaultwarden), knowing the master password of the account; the result will be a JSON file containing all the decrypted ciphers of the specified account. The Bitwarden encryption process is explained [here](https://bitwarden.com/help/bitwarden-security-white-paper/), but I also had to look a the [source code](https://github.com/bitwarden/clients/tree/main/libs/common/src/key-management) of the client to get all the techincal details needed to perform the decryption.

## Usage

Just download the latest [release](https://github.com/santanoce/vaultwarden-database-decrypt/releases) and run the executable from the command line; for example, on a Linux machine:
```bash
./vaultwarden-database-decrypt
```

The following parameters may also be specified as command-line arguments (if they haven't, they will be asked interactively):
- `--email`: email of the account to decrypt the data;
- `--password`: password of the account to decrypt the data;
- `--dbPath`: path of the database file to decrypt;
- `--outputFile`: name of the output file (it will be in JSON format).

For example:
```bash
./vaultwarden-database-decrypt --email "admin@example.org" --dbPath "db.sqlite3"
```

## Known limitations

I realized this project in my spare time because I wanted to be able to decrypt the Vaultwarden database without the need to have a working Bitwarden client (and it's been also a lot of fun too!). Thus, this script is tailored to my personal use case, even though it could be easily improved and made more general purpose with presumably little effort.

Some known (not necessarily exhaustive) limitations are the following:
- it only works with a **SQLite3** database;
- it only supports the **PBKDF2 SHA-256** KDF algorithm;
- decryption of ciphers from organizations have not been tested.
